buildscript {
    repositories {
        jcenter()
        mavenCentral()
    }

    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.2'
    }
}

apply plugin: 'groovy'
apply plugin: "application"
apply plugin: 'com.github.johnrengelman.shadow'

repositories {
    jcenter()
    mavenCentral()
    mavenLocal()
}

shadowJar {
    mergeServiceFiles()
}


task stage {
    dependsOn build, Assemble
}
assemble.dependsOn shadowJar

dependencies {
    compile 'org.codehaus.groovy:groovy-all:2.4.6'
}


jar {
    manifest {
        attributes(
                'Class-Path': configurations.compile.collect { it.getName() }.join(' '),
                'Main-Class': 'pm.ImageScalr'
        )
    }
}


project.mainClassName = 'pm.ImageScalr'
